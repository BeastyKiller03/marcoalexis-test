<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>marcoalexismaria</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- TOP BAR -->
  <header class="topbar">
    <div class="brand">
      <a class="brand-name" href="index.html">MARCO MARIA</a>

      <!-- Emblem (does NOT affect menu layout) -->
      <button class="emblem" type="button" aria-label="Emblem"></button>
    </div>

    <nav class="nav">
      <a href="videos.html">Videos</a>
      <a href="music.html">Music</a>
      <a href="photos.html">Photographs</a>
      <a href="events.html">Events</a>
      <a href="background.html">About</a>
    </nav>
  </header>

  <!-- MAIN -->
  <main class="stage" aria-label="Gallery">
    <div class="rail" id="rail">
      <!-- Photos (lazy-loaded via IntersectionObserver) -->
      <a class="card" href="photos.html#img1"><img data-src="IMG_1.jpg"  alt="Image 1"  class="lazy"></a>
      <a class="card" href="photos.html#img2"><img data-src="IMG_2.jpg"  alt="Image 2"  class="lazy"></a>
      <a class="card" href="photos.html#img3"><img data-src="IMG_3.jpg"  alt="Image 3"  class="lazy"></a>
      <a class="card" href="photos.html#img4"><img data-src="IMG_4.jpg"  alt="Image 4"  class="lazy"></a>
      <a class="card" href="photos.html#img5"><img data-src="IMG_5.jpg"  alt="Image 5"  class="lazy"></a>
      <a class="card" href="photos.html#img6"><img data-src="IMG_6.jpg"  alt="Image 6"  class="lazy"></a>
      <a class="card" href="photos.html#img7"><img data-src="IMG_7.jpg"  alt="Image 7"  class="lazy"></a>
      <a class="card" href="photos.html#img8"><img data-src="IMG_8.jpg"  alt="Image 8"  class="lazy"></a>
      <a class="card" href="photos.html#img9"><img data-src="IMG_9.jpg"  alt="Image 9"  class="lazy"></a>
      <a class="card" href="photos.html#img10"><img data-src="IMG_10.jpg" alt="Image 10" class="lazy"></a>

      <!-- Videos -->
      <a class="card" href="videos.html"><img data-src="img_02.png" alt="ANG3L — Official Video" class="lazy"></a>
      <a class="card" href="videos.html"><img data-src="img_01.png" alt="ED-EMY — Official Video" class="lazy"></a>
      <a class="card" href="videos.html"><img data-src="img_03.png" alt="TAPED" class="lazy"></a>
    </div>
  </main>

  <footer class="foot">
    <a href="secret.html">© 3^07</a>
  </footer>

  <script>
    // Shuffle the cards (keeps the vibe)
    document.addEventListener("DOMContentLoaded", () => {
      const rail = document.querySelector(".rail");
      const cards = Array.from(rail.children);

      for (let i = cards.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [cards[i], cards[j]] = [cards[j], cards[i]];
      }
      cards.forEach(c => rail.appendChild(c));
    });

    // True horizontal lazy loading
    document.addEventListener("DOMContentLoaded", () => {
      const rail = document.querySelector(".rail");
      const imgs = document.querySelectorAll("img.lazy");

      const load = (img) => {
        const src = img.getAttribute("data-src");
        if (!src) return;
        img.src = src;
        img.removeAttribute("data-src");
        img.classList.remove("lazy");
      };

      const io = new IntersectionObserver((entries, obs) => {
        entries.forEach(e => {
          if (e.isIntersecting) {
            load(e.target);
            obs.unobserve(e.target);
          }
        });
      }, {
        root: rail,
        rootMargin: "250px",
        threshold: 0.01
      });

      imgs.forEach(img => io.observe(img));
    });
  </script>

</body>
</html>

